{% extends 'ClassCentralSiteBundle::base.html.twig' %}

 {% block headmeta %}
     <title>MOOC Tracker | Class Central</title>
 {% endblock %}

{%  block content %}

    <h1>MOOC Tracker</h1>

    <h2>Courses</h2>

    {% if courses|length > 0 %}
        <div id='mooc-tracker-courses-grid'>
        {% for course in courses %}
                <div id="mooc-tracker-course-box">
                    <div id="mooc-tracker-course-box-inner">
                        <div id="mooc-tracker-course-box-content">
                            <div id="mooc-tracker-course-box-content-title">
                                {% if course.name|length > 50 %}
                                    {{ course.name[0:50] }}...
                                {% else %}
                                    {{ course.name }}
                                {% endif %}
                            </div>
                            {# university/institution #}

                            {% if course.institutions|length %}
                                <div id="mooc-tracker-course-box-institution">
                                        {{ course.institutions[0].name }}
                                </div>
                            {% endif %}

                            {# session dates and view course button#}
                            <div id="mooc-tracker-course-box-bottom-row">
                                {% if course.nextOffering is not empty %}
                                    <div id="mooc-tracker-course-box-start-date">
                                        <span>Starts: </span>{{ course.nextOffering.displayDate }}
                                    </div>
                                {% endif %}

                                <a class="btn btn-primary btn-mooc-tracker-box" href="{{ path('ClassCentralSiteBundle_mooc',{'id': course.id, 'slug':course.slug}) }}">VIEW COURSE</a>
                            </div>
                        </div>
                    </div>
                </div>
        {% endfor %}
        </div>
    {% else %}
        {# no courses added to MOOC tracker #}
        <i>No search terms added to MOOC tracker</i>
    {% endif %}

    <h2>Search Terms</h2>
    {% if searchTerms|length > 0 %}
            <div id='mooc-tracker-courses-grid'>
            {% for searchTerm in searchTerms %}
                <a href="{{ path("ClassCentralSiteBundle_search", {'q' : searchTerm }) }}" class="btn btn-primary btn-mooc-tracker-search">
                    {% if searchTerm|length > 25 %}
                        {{ searchTerm[0:35] }}...
                    {% else %}
                        {{ searchTerm }}
                    {% endif %}
                </a>
            {% endfor %}
            </div>
    {% else %}
        {# no search terms found #}
        <i>No search terms added to MOOC tracker</i>
    {% endif %}
    <div class="clearfix"/>
{% endblock %}


